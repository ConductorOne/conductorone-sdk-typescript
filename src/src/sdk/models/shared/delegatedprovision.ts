/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import * as z from "zod";

/**
 * This provision step indicates that we should delegate provisioning to the configuration of another app entitlement. This app entitlement does not have to be one from the same app, but MUST be configured as a proxy binding leading into this entitlement.
 */
export type DelegatedProvision = {
    /**
     * The AppID of the entitlement to delegate provisioning to.
     */
    appId?: string | undefined;
    /**
     * The ID of the entitlement we are delegating provisioning to.
     */
    entitlementId?: string | undefined;
    /**
     * If true, a binding will be automatically created from the entitlement of the parent app.
     */
    implicit?: boolean | undefined;
};

/** @internal */
export namespace DelegatedProvision$ {
    export type Inbound = {
        appId?: string | undefined;
        entitlementId?: string | undefined;
        implicit?: boolean | undefined;
    };

    export const inboundSchema: z.ZodType<DelegatedProvision, z.ZodTypeDef, Inbound> = z
        .object({
            appId: z.string().optional(),
            entitlementId: z.string().optional(),
            implicit: z.boolean().optional(),
        })
        .transform((v) => {
            return {
                ...(v.appId === undefined ? null : { appId: v.appId }),
                ...(v.entitlementId === undefined ? null : { entitlementId: v.entitlementId }),
                ...(v.implicit === undefined ? null : { implicit: v.implicit }),
            };
        });

    export type Outbound = {
        appId?: string | undefined;
        entitlementId?: string | undefined;
        implicit?: boolean | undefined;
    };

    export const outboundSchema: z.ZodType<Outbound, z.ZodTypeDef, DelegatedProvision> = z
        .object({
            appId: z.string().optional(),
            entitlementId: z.string().optional(),
            implicit: z.boolean().optional(),
        })
        .transform((v) => {
            return {
                ...(v.appId === undefined ? null : { appId: v.appId }),
                ...(v.entitlementId === undefined ? null : { entitlementId: v.entitlementId }),
                ...(v.implicit === undefined ? null : { implicit: v.implicit }),
            };
        });
}
