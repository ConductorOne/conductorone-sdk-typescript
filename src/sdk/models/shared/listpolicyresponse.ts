/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../../../lib/schemas.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";
import { Policy, Policy$inboundSchema } from "./policy.js";

/**
 * The ListPolicyResponse message.
 */
export type ListPolicyResponse = {
  /**
   * The list of results containing up to X results, where X is the page size defined in the request
   */
  list?: Array<Policy> | null | undefined;
  /**
   * The nextPageToken is shown for the next page if the number of results is larger than the max page size. The server returns one page of results and the nextPageToken until all results are retreived. To retrieve the next page, use the same request and append a pageToken field with the value of nextPageToken shown on the previous page.
   */
  nextPageToken?: string | null | undefined;
};

/** @internal */
export const ListPolicyResponse$inboundSchema: z.ZodType<
  ListPolicyResponse,
  z.ZodTypeDef,
  unknown
> = z.object({
  list: z.nullable(z.array(Policy$inboundSchema)).optional(),
  nextPageToken: z.nullable(z.string()).optional(),
});

export function listPolicyResponseFromJSON(
  jsonString: string,
): SafeParseResult<ListPolicyResponse, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListPolicyResponse$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListPolicyResponse' from JSON`,
  );
}
