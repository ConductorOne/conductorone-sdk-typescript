/*
 * Code generated by Speakeasy (https://speakeasyapi.dev). DO NOT EDIT.
 */

import { SpeakeasyBase, SpeakeasyMetadata } from "../../../internal/utils";
import { ApprovalInstance } from "./approvalinstance";
import { ProvisionInstance } from "./provisioninstance";
import { Expose, Type } from "class-transformer";

/**
 *  The state of the step, which is either active or done.
 *
 * @remarks
 *
 */
export enum PolicyStepInstanceState {
    PolicyStepStateUnspecified = "POLICY_STEP_STATE_UNSPECIFIED",
    PolicyStepStateActive = "POLICY_STEP_STATE_ACTIVE",
    PolicyStepStateDone = "POLICY_STEP_STATE_DONE",
}

/**
 *  The policy step instance includes a reference to an instance of a policy step that tracks state and has a unique ID.
 *
 * @remarks
 *
 *
 * This message contains a oneof named instance. Only a single field of the following list may be set at a time:
 *   - approval
 *   - provision
 *
 */
export class PolicyStepInstance extends SpeakeasyBase {
    /**
     *  The approval instance object describes the way a policy step should be approved as well as its outcomes and state.
     *
     * @remarks
     *
     *
     * This message contains a oneof named outcome. Only a single field of the following list may be set at a time:
     *   - approved
     *   - denied
     *   - reassigned
     *   - restarted
     *   - reassignedByError
     *
     */
    @SpeakeasyMetadata()
    @Expose({ name: "approval" })
    @Type(() => ApprovalInstance)
    approvalInstance?: ApprovalInstance;

    /**
     *  A provision instance describes the specific configuration of an executing provision policy step including actions taken and notification id.
     *
     * @remarks
     *
     *
     * This message contains a oneof named outcome. Only a single field of the following list may be set at a time:
     *   - completed
     *   - cancelled
     *   - errored
     *   - reassignedByError
     *
     */
    @SpeakeasyMetadata()
    @Expose({ name: "provision" })
    @Type(() => ProvisionInstance)
    provisionInstance?: ProvisionInstance;

    /**
     *  The ID of the PolicyStepInstance. This is required by many action submission endpoints to indicate what step you're approving.
     *
     * @remarks
     *
     */
    @SpeakeasyMetadata()
    @Expose({ name: "id" })
    id?: string;

    /**
     *  The state of the step, which is either active or done.
     *
     * @remarks
     *
     */
    @SpeakeasyMetadata()
    @Expose({ name: "state" })
    state?: PolicyStepInstanceState;
}
