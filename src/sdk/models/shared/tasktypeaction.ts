/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../../../lib/schemas.js";
import * as openEnums from "../../types/enums.js";
import { OpenEnum } from "../../types/enums.js";
import { Result as SafeParseResult } from "../../types/fp.js";
import { SDKValidationError } from "../errors/sdkvalidationerror.js";

/**
 * The outcome field.
 */
export const Outcome = {
  ActionOutcomeUnspecified: "ACTION_OUTCOME_UNSPECIFIED",
  ActionOutcomeSuccess: "ACTION_OUTCOME_SUCCESS",
  ActionOutcomeDenied: "ACTION_OUTCOME_DENIED",
  ActionOutcomeError: "ACTION_OUTCOME_ERROR",
  ActionOutcomeCancelled: "ACTION_OUTCOME_CANCELLED",
} as const;
/**
 * The outcome field.
 */
export type Outcome = OpenEnum<typeof Outcome>;

/**
 * The TaskTypeAction message.
 */
export type TaskTypeAction = {
  /**
   * The ID of the action to execute.
   */
  actionId?: string | undefined;
  formValues?: { [k: string]: any } | undefined;
  /**
   * The outcome field.
   */
  outcome?: Outcome | undefined;
  outcomeTime?: Date | undefined;
};

/** @internal */
export const Outcome$inboundSchema: z.ZodType<Outcome, z.ZodTypeDef, unknown> =
  openEnums.inboundSchema(Outcome);
/** @internal */
export const Outcome$outboundSchema: z.ZodType<string, z.ZodTypeDef, Outcome> =
  openEnums.outboundSchema(Outcome);

/** @internal */
export const TaskTypeAction$inboundSchema: z.ZodType<
  TaskTypeAction,
  z.ZodTypeDef,
  unknown
> = z.object({
  actionId: z.string().optional(),
  formValues: z.record(z.any()).optional(),
  outcome: Outcome$inboundSchema.optional(),
  outcomeTime: z.string().datetime({ offset: true }).transform(v => new Date(v))
    .optional(),
});
/** @internal */
export type TaskTypeAction$Outbound = {
  actionId?: string | undefined;
  formValues?: { [k: string]: any } | undefined;
  outcome?: string | undefined;
  outcomeTime?: string | undefined;
};

/** @internal */
export const TaskTypeAction$outboundSchema: z.ZodType<
  TaskTypeAction$Outbound,
  z.ZodTypeDef,
  TaskTypeAction
> = z.object({
  actionId: z.string().optional(),
  formValues: z.record(z.any()).optional(),
  outcome: Outcome$outboundSchema.optional(),
  outcomeTime: z.date().transform(v => v.toISOString()).optional(),
});

export function taskTypeActionToJSON(taskTypeAction: TaskTypeAction): string {
  return JSON.stringify(TaskTypeAction$outboundSchema.parse(taskTypeAction));
}
export function taskTypeActionFromJSON(
  jsonString: string,
): SafeParseResult<TaskTypeAction, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => TaskTypeAction$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'TaskTypeAction' from JSON`,
  );
}
